# Multi Tenancy

멀티-테넌트(Multi-Tenant) 애플리케이션이란, 단일 인스턴스의 소프트웨어가 여러 사용자나 조직(테넌트)에 서비스를 제공할 수 있도록 설계된 애플리케이션입니다.
**각 테넌트 별로 데이터를 격리**하며, 동시에 하나의 어플리케이션 **인스턴스를 공유하여 리소스 사용을 최적화**합니다.

**멀티-테넌트 어플리케이션 예시**

- SaaS 어플리케이션: Salesforce, MS Office 365, Google Workspace 등
- 클라우드 서비스: AWS, Azure 등

### ⚠️ 멀티 테넌시를 구현할 때 가장 중요한 부분 중 하나는 데이터베이스 설계 입니다.

| 분리 방식        | 설명                                                                                            | 특징                                                                                                 |
| ---------------- | ----------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------- |
| 스키마 기반 분리 | 각 테넌트마다 별도의 스키마를 사용함.                                                           | - 많은 수의 테넌트를 관리할 때는 DB 객체(스키마)의 수가 급증할 수 있음 <br> - PostgreSQL 스키마 활용 |
| 테이블 기반 분리 | 모든 테넌트의 데이터를 동일한 테이블에 저장하되, `tenantId` 같은 칼럼을 사용하여 데이터를 구분. | - 유연성이 뛰어나고, 스케일링이 쉬움 <br> - 보안과 성능 최적화에 대한 고려가 필요                    |

**스키마 기반으로 여러 테넌트를 관리하려면 관리 복잡성이 매우 증가하므로, 테이블 기반으로 구현하되 보안 등이 매우 중요한 고객은 별도의 DB를 생성해서 물리적 격리를 하는 것이 좋음.**
