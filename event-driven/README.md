# Event-Driven Architecture

EDA는 시스템의 다양한 컴포넌트들이 이벤트를 생성하고, 이 이벤트들을 다른 컴포넌트들이 구독하여 처리하는 구조입니다.
RabbitMQ, Kafka와 같은 메세지 브로커가 이벤트(메세지)의 신뢰성 있는 전송과, 이벤트 스트림의 효율적인 관리를 담당합니다.

## 메세지 브로커가 하는 일

1. **이벤트 전송**: 시스템 내외의 다양한 소스로부터 발생하는 이벤트들을 수집합니다. 예를 들어, 사용자 액션, 시스템 상태 변경, 외부 시스템 통신 등이 이벤트의 원천이 될 수 있습니다.
2. **이벤트 라우팅**: 이벤트를 적절한 대상(구독자)에게 전달합니다. 메시지 브로커는 `주제 기반(Topic-based)` 또는 `내용 기반(Content-based)` 라우팅을 제공할 수 있으며, 이는 이벤트를 구독하는 서비스가 이벤트를 필터링하고 선택할 수 있도록 합니다.
3. **부하 분산 및 스케일링**: 고가용성과 확장성을 보장하기 위해 이벤트 메시지를 여러 서버 또는 서비스 인스턴스에 분산시킬 수 있습니다. 이는 피크 타임에 발생할 수 있는 부하를 관리하고, 전체 시스템의 내구성을 강화합니다.
4. **이벤트 버퍼링 및 저장**: 일시적인 네트워크 문제나 구독자 서비스의 다운타임 동안 이벤트를 버퍼링하거나 저장하여, 모든 이벤트가 처리될 수 있도록 합니다.

## RabbitMQ vs Kafka

| 특성        | RabbitMQ                                                 | Kafka                                                |
| ----------- | -------------------------------------------------------- | ---------------------------------------------------- |
| 메시지 모델 | 메시지 큐                                                | 로그 스트리밍                                        |
| 데이터 처리 | 메시지 단위의 처리                                       | 대량의 스트림 데이터 처리                            |
| 유연성      | 다양한 라우팅 옵션                                       | 확장성과 처리량에 중점                               |
| 내구성      | 메모리와 디스크 저장 옵션                                | 디스크 기반 저장으로 내구성 강화                     |
| 확장성      | 클러스터링을 통한 수평 확장                              | 자동 로드 밸런싱을 포함한 우수한 확장성 제공         |
| 적합한 사용 | **신뢰성 있는 메시지 전달이 필요한 소규모 애플리케이션** | **대량의 데이터 스트림 처리가 필요한 대규모 시스템** |
